<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Transfer huge amount of source files via network (SCP + GZip) · Jackson Hu's Blog</title><meta name="description" content="Transfer huge amount of source files via network (SCP + GZip) - Jackson Ming Hu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/gandalfr.css"><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/solarized-light.css"><link rel="search" type="application/opensearchdescription+xml" href="https://jacksonhu.com/atom.xml" title="Jackson Hu's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="https://avatars0.githubusercontent.com/u/4463497" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/huming2207" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Transfer huge amount of source files via network (SCP + GZip)</h1><div class="tags"><a href="/tags/linux/" class="tag-title">#linux</a><a href="/tags/english-note/" class="tag-title">#english-note</a><a href="/tags/quick-note/" class="tag-title">#quick-note</a><a href="/tags/scp/" class="tag-title">#scp</a><a href="/tags/ssh/" class="tag-title">#ssh</a></div><div class="post-info">Oct 8, 2017</div><div class="post-content"><h1 id="Scenario"><a href="#Scenario" class="headerlink" title="Scenario"></a>Scenario</h1><p>I’ve got a modified AOSP (Mokee, ~50GB with repo cache) need to be transferred from my Mac to my Thinkpad. But macOS does not support linux file systems while Linux does not support apple file systems too.</p>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>After a quick Google, I’ve found a way to solve this issue by using WiFi to transfer. </p>
<p>Simply transfer the file with SCP/FTP is not fast enough as the source tree is way too large. Here we use GZip to compress the data, then put it to SCP’s pipe, and decompress the data on the target machine.</p>
<p>The command is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zcvf - mokee | ssh hu@the-damn-thinkpad &quot;cd /home/hu/target/mokee/directory; tar zx&quot;</span><br></pre></td></tr></table></figure>
<h1 id="Efficiency"><a href="#Efficiency" class="headerlink" title="Efficiency"></a>Efficiency</h1><p>Looks good, 25~35MB/s with 802.11ac (867Mbps, 2x2 MIMO) connection.</p>
<p><img src="/media/15074458869506.jpg" alt=""></p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/10/13/android-compile-note/" class="prev">PREV</a><a href="/2017/09/27/Dummy-page/" class="next">NEXT</a></div><div class="copyright"><p>© 1998 - 2018 <a href="https://jacksonhu.com">Jackson Ming Hu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/MikeCoder/hexo-theme-gandalfr" target="_blank">hexo-theme-gandalfr</a>.</p></div></footer></div><script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" crossorigin="anonymous"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.js" crossorigin="anonymous"></script><script>$(document).ready(function() { $('pre').each(function(i, block) { hljs.highlightBlock(block); }); });</script></body></html>